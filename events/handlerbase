#ifndef HANDLERBASE_INCLUDED
#define HANDLERBASE_INCLUDED

#include "handlervisitor"

///
/// Handler base class
/// Provides support for handler Visitors
///
class HandlerBase
{
public:
    /// Virtual destructor.
    virtual ~HandlerBase() {}

    /// Visitor implementation
    virtual void Accept(HandlerVisitor& visitor)
    {
        visitor.Visit(*this);
    }
};

///
/// Typed generic Handler class
/// Base class for all typed handlers.
///
template <typename... Args>
class Handler : public HandlerBase
{
public:
    /// Call prototype.
    virtual void Call(Args...) = 0;
};

#endif // HANDLERBASE_INCLUDED
